import seleniumimport httpimport jsonimport datetimefrom time import sleepfrom playsound import playsoundimport http.clientimport mimetypesconn = http.client.HTTPSConnection("cdn-api.co-vin.in")payload = ''headers = {}def get_date(now, days_ahead):    return now + datetime.timedelta(days_ahead)session_ignore_list = ['c0fe57f4-1e7b-45c5-a217-f2b000926199',                       'c05dd382-7ff1-4e7b-b837-f29fc837a0d7',                       '6838c1c8-0a4d-4634-aa9f-845e5b6d2609',                       '11619dc9-eaa3-44f2-9d0a-5d22ee247fe0',                       ]while True:    print("\n\n--------Checking...--------\n\n")    dates = []        for i in range(4):        dates.append(get_date(datetime.datetime.strptime('20-05-2021', '%d-%m-%Y'), i))            for i, date in enumerate(dates):        date = str(date)[:-9]        day = date[-2:]        month = date[-5:-3]        year = date[:4]        dates[i] = f'{day}-{month}-{year}'        print(f'{day}-{month}-{year}', end='\t')        for date in dates:                   print(f"\nChecking slots in Mohali for {date}")        conn.request("GET", f"/api/v2/appointment/sessions/public/calendarByDistrict?district_id=496&date={date}", payload, headers)        res = conn.getresponse()        data = res.read()            json_data = data.decode('utf8').replace("'", '"')        result = json.loads(json_data)                centers = result['centers']        for center in centers:            sessions = center['sessions']            for session in sessions:                # print(f"Date: {session['date']}, Capacity: {session['available_capacity']}, Age Limit: {session['min_age_limit']}, Vaccine: {session['vaccine']}")                if session['min_age_limit'] == 18 and session['available_capacity'] > 0 and session['session_id'] not in session_ignore_list:                   print(f"\n\nID: {session['session_id']}\nDate: {session['date']}, Capacity: {session['available_capacity']}, Age Limit: {session['min_age_limit']}, Vaccine: {session['vaccine']}")                   while True:                        playsound('notification.mp3')                        sleep(1)        print("No Match Found in Mohali Right Now")                        print(f"\nChecking slots in Chandigarh for {date}")        conn.request("GET", f"/api/v2/appointment/sessions/public/calendarByDistrict?district_id=108&date={date}", payload, headers)        res = conn.getresponse()        data = res.read()            json_data = data.decode('utf8').replace("'", '"')        result = json.loads(json_data)                centers = result['centers']        for center in centers:            sessions = center['sessions']            for session in sessions:                # print(f"Date: {session['date']}, Capacity: {session['available_capacity']}, Age Limit: {session['min_age_limit']}, Vaccine: {session['vaccine']}")                if session['min_age_limit'] == 18 and session['available_capacity'] > 0 and session['session_id'] not in session_ignore_list:                   print(f"\n\nID: {session['session_id']}\nDate: {session['date']}, Capacity: {session['available_capacity']}, Age Limit: {session['min_age_limit']}, Vaccine: {session['vaccine']}")                   while True:                        playsound('notification.mp3')                        sleep(1)        print("No Match Found in Chandigarh Right Now")                                                        print(f"\nChecking slots in Panchkula for {date}")        conn.request("GET", f"/api/v2/appointment/sessions/public/calendarByDistrict?district_id=187&date={date}", payload, headers)        res = conn.getresponse()        data = res.read()            json_data = data.decode('utf8').replace("'", '"')        result = json.loads(json_data)                centers = result['centers']        for center in centers:            sessions = center['sessions']            for session in sessions:                # print(f"Date: {session['date']}, Capacity: {session['available_capacity']}, Age Limit: {session['min_age_limit']}, Vaccine: {session['vaccine']}")                if session['min_age_limit'] == 18 and session['available_capacity'] > 0 and session['session_id'] not in session_ignore_list:                   print(f"\n\nID: {session['session_id']}\nDate: {session['date']}, Capacity: {session['available_capacity']}, Age Limit: {session['min_age_limit']}, Vaccine: {session['vaccine']}")                   while True:                        playsound('notification.mp3')                        sleep(1)        print("No Match Found in Panchkula Right Now")            sleep(300)